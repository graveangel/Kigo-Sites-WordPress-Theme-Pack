function debounce(t,e,i){var r;return function(){var n=this,s=arguments,o=function(){r=null,i||t.apply(n,s)},a=i&&!r;clearTimeout(r),r=setTimeout(o,e),a&&t.apply(n,s)}}function getClassnameForCode(t){return t<0||t>47?"wi-na":codeToClassname[t]}var app={debug:!0,modules:{widgets:{},templates:{}},bapiModules:{widgets:{},templates:{}},init:function(){this.initModules(this.modules),this.fixedHeader(),this.kdMove()},initBapi:function(){this.initModules(this.bapiModules)},initModules:function(t){for(var e in t)"function"==typeof t[e].init&&"function"==typeof t[e].cond?t[e].cond()&&(app.log("Initializing module",e,t[e]),t[e].init()):this.initModules(t[e])},initSwiper:function(t,e){return new Swiper(t,e)},fixedHeader:function(){function t(){var t=window.scrollY;t>=r?e.classList.add("fixed"):e.classList.remove("fixed")}var e=(document.querySelector("body"),document.querySelector(".header-background")),i=document.querySelector(".header-background .under_header"),r=e.clientHeight-i.clientHeight;window.addEventListener("scroll",t),t()},exists:function(t){var e=document.querySelector(t);return!!e},isMobile:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)},log:function(){this.debug&&console.log.apply(console,arguments)},bapiRender:function(t,e,i,r){var n={pagesize:20,seo:!0};BAPI.search(t,n,function(n){BAPI.get(n.result,t,{},function(t){var n={};n.result=t.result,n.config=BAPI.config();var s="object"==typeof r?Object.assign(n,r):n,o=Mustache.render(BAPI.UI.mustacheHelpers.getPartials(e),s);i(o)})})},bapi:{search:function(t,e,i){var r=i||{};BAPI.search(t,r,function(t){e(t)})},get:function(t,e,i,r){BAPI.get(e,t,_.assign(r,{}),function(t){i(t)})},recursiveGet:function(t,e,i){var r=i||{pagesize:20,waitForAll:!1};BAPI.search(t,r,function(i){var n=_.chunk(i.result,r.pagesize);if(1==r.waitForAll){var s=[],o=0;n.forEach(function(i,a){BAPI.get(i,t,r,function(t){o++,s=_.concat(s,t.result),o==n.length&&e({result:s,textdata:BAPI.textdata})})})}else n.forEach(function(i,n){BAPI.get(i,t,r,function(t){e(t)})})})},render:function(t,e){return Mustache.render(BAPI.UI.mustacheHelpers.getPartials(t),e)}},kdMove:function(){for(var t=document.querySelectorAll("[data-move]"),e=0;e<t.length;e++){var i=t[e],r=document.querySelector(i.dataset.move);r.appendChild(t[e]),i.classList.add("hasMoved")}}};window.addEventListener("load",app.init.bind(app)),window.addEventListener("DOMContentLoaded",app.initBapi.bind(app)),!function(t,e,i,r){function n(t,e){var i=Math.max(0,t[0]-e[0],e[0]-t[1]),r=Math.max(0,t[2]-e[1],e[1]-t[3]);return i+r}function s(e,i,r,n){var s=e.length,o=n?"offset":"position";for(r=r||0;s--;){var a=e[s].el?e[s].el:t(e[s]),l=a[o]();l.left+=parseInt(a.css("margin-left"),10),l.top+=parseInt(a.css("margin-top"),10),i[s]=[l.left-r,l.left+a.outerWidth()+r,l.top-r,l.top+a.outerHeight()+r]}}function o(t,e){var i=e.offset();return{left:t.left-i.left,top:t.top-i.top}}function a(t,e,i){e=[e.left,e.top],i=i&&[i.left,i.top];for(var r,s=t.length,o=[];s--;)r=t[s],o[s]=[s,n(r,e),i&&n(r,i)];return o=o.sort(function(t,e){return e[1]-t[1]||e[2]-t[2]||e[0]-t[0]})}function l(e){this.options=t.extend({},h,e),this.containers=[],this.options.rootGroup||(this.scrollProxy=t.proxy(this.scroll,this),this.dragProxy=t.proxy(this.drag,this),this.dropProxy=t.proxy(this.drop,this),this.placeholder=t(this.options.placeholder),e.isValidTarget||(this.options.isValidTarget=r))}function c(e,i){this.el=e,this.options=t.extend({},u,i),this.group=l.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var r=this.rootGroup.options.itemPath;this.target=r?this.el.find(r):this.el,this.target.on(g.start,this.handle,t.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var u={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},h={afterMove:function(t,e,i){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"dragging",draggedClass:"dragged",isValidTarget:function(t,e){return!0},onCancel:function(t,e,i,r){},onDrag:function(t,e,i,r){t.css(e)},onDragStart:function(e,i,r,n){e.css({height:e.outerHeight(),width:e.outerWidth()}),e.addClass(i.group.options.draggedClass),t("body").addClass(i.group.options.bodyClass)},onDrop:function(e,i,r,n){e.removeClass(i.group.options.draggedClass).removeAttr("style"),t("body").removeClass(i.group.options.bodyClass)},onMousedown:function(t,e,i){if(!i.target.nodeName.match(/^(input|select|textarea)$/i))return i.preventDefault(),!0},placeholderClass:"placeholder",placeholder:'<li class="placeholder"></li>',pullPlaceholder:!0,serialize:function(e,i,r){var n=t.extend({},e.data());return r?[i]:(i[0]&&(n.children=i),delete n.subContainers,delete n.sortable,n)},tolerance:0},d={},p=0,f={left:0,top:0,bottom:0,right:0},g={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},m="subContainers";l.get=function(t){return d[t.group]||(t.group===r&&(t.group=p++),d[t.group]=new l(t)),d[t.group]},l.prototype={dragInit:function(e,i){this.$document=t(i.el[0].ownerDocument);var r=t(e.target).closest(this.options.itemSelector);if(r.length){if(this.item=r,this.itemContainer=i,this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,h.onMousedown,e))return;this.setPointer(e),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0}},drag:function(t){if(!this.dragging){if(!this.distanceMet(t)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,h.onDragStart,t),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(t),this.options.onDrag(this.item,o(this.pointer,this.item.offsetParent()),h.onDrag,t);var e=this.getPointer(t),i=this.sameResultBox,n=this.options.tolerance;(!i||i.top-n>e.top||i.bottom+n<e.top||i.left-n>e.left||i.right+n<e.left)&&(this.searchValidTarget()||(this.placeholder.detach(),this.lastAppendedItem=r))},drop:function(t){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,h.onCancel,t),this.options.onDrop(this.item,this.getContainer(this.item),h.onDrop,t),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=r,this.dragging=!1)},searchValidTarget:function(t,e){t||(t=this.relativePointer||this.pointer,e=this.lastRelativePointer||this.lastPointer);for(var i=a(this.getContainerDimensions(),t,e),n=i.length;n--;){var s=i[n][0],l=i[n][1];if(!l||this.options.pullPlaceholder){var c=this.containers[s];if(!c.disabled){if(!this.$getOffsetParent()){var u=c.getItemOffsetParent();t=o(t,u),e=o(e,u)}if(c.searchValidTarget(t,e))return!0}}}this.sameResultBox&&(this.sameResultBox=r)},movePlaceholder:function(t,e,i,r){var n=this.lastAppendedItem;!r&&n&&n[0]===e[0]||(e[i](this.placeholder),this.lastAppendedItem=e,this.sameResultBox=r,this.options.afterMove(this.placeholder,t,e))},getContainerDimensions:function(){return this.containerDimensions||s(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(t){return t.closest(this.options.containerSelector).data(i)},$getOffsetParent:function(){if(this.offsetParent===r){var t=this.containers.length-1,e=this.containers[t].getItemOffsetParent();if(!this.options.rootGroup)for(;t--;)if(e[0]!=this.containers[t].getItemOffsetParent()[0]){e=!1;break}this.offsetParent=e}return this.offsetParent},setPointer:function(t){var e=this.getPointer(t);if(this.$getOffsetParent()){var i=o(e,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=i}this.lastPointer=this.pointer,this.pointer=e},distanceMet:function(t){var e=this.getPointer(t);return Math.max(Math.abs(this.pointer.left-e.left),Math.abs(this.pointer.top-e.top))>=this.options.distance},getPointer:function(t){var e=t.originalEvent||t.originalEvent.touches&&t.originalEvent.touches[0];return{left:t.pageX||e.pageX,top:t.pageY||e.pageY}},setupDelayTimer:function(){var t=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){t.delayMet=!0},this.options.delay))},scroll:function(t){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(e){var i=this,r=["drag","drop","scroll"];t.each(r,function(t,r){i.$document[e](g[r],i[r+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=r},clearDimensions:function(){this.traverse(function(t){t._clearDimensions()})},traverse:function(t){t(this);for(var e=this.containers.length;e--;)this.containers[e].traverse(t)},_clearDimensions:function(){this.containerDimensions=r},_destroy:function(){d[this.options.group]=r}},c.prototype={dragInit:function(t){var e=this.rootGroup;!this.disabled&&!e.dragInitDone&&this.options.drag&&this.isValidDrag(t)&&e.dragInit(t,this)},isValidDrag:function(t){return 1==t.which||"touchstart"==t.type&&1==t.originalEvent.touches.length},searchValidTarget:function(t,e){var i=a(this.getItemDimensions(),t,e),r=i.length,n=this.rootGroup,s=!n.options.isValidTarget||n.options.isValidTarget(n.item,this);if(!r&&s)return n.movePlaceholder(this,this.target,"append"),!0;for(;r--;){var o=i[r][0],l=i[r][1];if(!l&&this.hasChildGroup(o)){var c=this.getContainerGroup(o).searchValidTarget(t,e);if(c)return!0}else if(s)return this.movePlaceholder(o,t),!0}},movePlaceholder:function(e,i){var r=t(this.items[e]),n=this.itemDimensions[e],s="after",o=r.outerWidth(),a=r.outerHeight(),l=r.offset(),c={left:l.left,right:l.left+o,top:l.top,bottom:l.top+a};if(this.options.vertical){var u=(n[2]+n[3])/2,h=i.top<=u;h?(s="before",c.bottom-=a/2):c.top+=a/2}else{var d=(n[0]+n[1])/2,p=i.left<=d;p?(s="before",c.right-=o/2):c.left+=o/2}this.hasChildGroup(e)&&(c=f),this.rootGroup.movePlaceholder(this,r,s,c)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get(),s(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var t,e=this.el;return t="relative"===e.css("position")||"absolute"===e.css("position")||"fixed"===e.css("position")?e:e.offsetParent()},hasChildGroup:function(t){return this.options.nested&&this.getContainerGroup(t)},getContainerGroup:function(e){var n=t.data(this.items[e],m);if(n===r){var s=this.$getChildren(this.items[e],"container");if(n=!1,s[0]){var o=t.extend({},this.options,{rootGroup:this.rootGroup,group:p++});n=s[i](o).data(i).group}t.data(this.items[e],m,n)}return n},$getChildren:function(e,i){var r=this.rootGroup.options,n=r[i+"Path"],s=r[i+"Selector"];return e=t(e),n&&(e=e.find(n)),e.children(s)},_serialize:function(e,i){var r=this,n=i?"item":"container",s=this.$getChildren(e,n).not(this.options.exclude).map(function(){return r._serialize(t(this),!i)}).get();return this.rootGroup.options.serialize(e,s,i)},traverse:function(e){t.each(this.items||[],function(i){var r=t.data(this,m);r&&r.traverse(e)}),e(this)},_clearDimensions:function(){this.itemDimensions=r},_destroy:function(){var e=this;this.target.off(g.start,this.handle),this.el.removeData(i),this.options.drop&&(this.group.containers=t.grep(this.group.containers,function(t){return t!=e})),t.each(this.items||[],function(){t.removeData(this,m)})}};var v={enable:function(){this.traverse(function(t){t.disabled=!1})},disable:function(){this.traverse(function(t){t.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(t){t._clearDimensions()})},destroy:function(){this.traverse(function(t){t._destroy()})}};t.extend(c.prototype,v),t.fn[i]=function(e){var n=Array.prototype.slice.call(arguments,1);return this.map(function(){var s=t(this),o=s.data(i);return o&&v[e]?v[e].apply(o,n)||this:(o||e!==r&&"object"!=typeof e||s.data(i,new c(s,e)),this)})}}(jQuery,window,"sortable"),function(t){function e(t){y.push(t),w||(w=!0,g(r))}function i(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function r(){w=!1;var t=y;y=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var i=t.takeRecords();n(t),i.length&&(t.callback_(i,t),e=!0)}),e&&r()}function n(t){t.nodes_.forEach(function(e){var i=m.get(e);i&&i.forEach(function(e){e.observer===t&&e.removeTransientObservers()})})}function s(t,e){for(var i=t;i;i=i.parentNode){var r=m.get(i);if(r)for(var n=0;n<r.length;n++){var s=r[n],o=s.options;if(i===t||o.subtree){var a=e(o);a&&s.enqueue(a)}}}}function o(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++k}function a(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function l(t){var e=new a(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function c(t,e){return M=new a(t,e)}function u(t){return S?S:(S=l(M),S.oldValue=t,S)}function h(){M=S=void 0}function d(t){return t===S||t===M}function p(t,e){return t===e?t:S&&d(t)?S:null}function f(t,e,i){this.observer=t,this.target=e,this.options=i,this.transientObservedNodes=[]}if(!t.JsMutationObserver){var g,m=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))g=setTimeout;else if(window.setImmediate)g=window.setImmediate;else{var v=[],b=String(Math.random());window.addEventListener("message",function(t){if(t.data===b){var e=v;v=[],e.forEach(function(t){t()})}}),g=function(t){v.push(t),window.postMessage(b,"*")}}var w=!1,y=[],k=0;o.prototype={observe:function(t,e){if(t=i(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var r=m.get(t);r||m.set(t,r=[]);for(var n,s=0;s<r.length;s++)if(r[s].observer===this){n=r[s],n.removeListeners(),n.options=e;break}n||(n=new f(this,t,e),r.push(n),this.nodes_.push(t)),n.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=m.get(t),i=0;i<e.length;i++){var r=e[i];if(r.observer===this){r.removeListeners(),e.splice(i,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}};var M,S;f.prototype={enqueue:function(t){var i=this.observer.records_,r=i.length;if(i.length>0){var n=i[r-1],s=p(n,t);if(s)return void(i[r-1]=s)}else e(this.observer);i[r]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=m.get(t);e||m.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=m.get(t),i=0;i<e.length;i++)if(e[i]===this){e.splice(i,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,i=t.relatedNode.namespaceURI,r=t.target,n=new c("attributes",r);n.attributeName=e,n.attributeNamespace=i;var o=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;s(r,function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||t.attributeFilter.indexOf(e)!==-1||t.attributeFilter.indexOf(i)!==-1))return t.attributeOldValue?u(o):n});break;case"DOMCharacterDataModified":var r=t.target,n=c("characterData",r),o=t.prevValue;s(r,function(t){if(t.characterData)return t.characterDataOldValue?u(o):n});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var a,l,d=t.target;"DOMNodeInserted"===t.type?(a=[d],l=[]):(a=[],l=[d]);var p=d.previousSibling,f=d.nextSibling,n=c("childList",t.target.parentNode);n.addedNodes=a,n.removedNodes=l,n.previousSibling=p,n.nextSibling=f,s(t.relatedNode,function(t){if(t.childList)return n})}h()}},t.JsMutationObserver=o,t.MutationObserver||(t.MutationObserver=o,o._isPolyfilled=!0)}}(self),void function(t,e,i){function r(t,e,i){return"function"==typeof e&&(i=e,e=n(i).replace(/_$/,"")),a(t,e,{configurable:!0,writable:!0,value:i})}function n(t){return"function"!=typeof t?"":"name"in t?t.name:l.call(t).match(h)[1]}function s(t){function e(e,n){return n||2===arguments.length?r.set(e,n):(n=r.get(e),n===i&&(n=t(e),r.set(e,n))),n}var r=new WeakMap;return t||(t=f),e}var o=Object.getOwnPropertyNames,a=Object.defineProperty,l=Function.prototype.toString,c=Object.create,u=Object.prototype.hasOwnProperty,h=/^\n?function\s?(\w*)?_?\(/,d=function(){function t(){var t=l(),i={};this.unlock=function(r){var s=d(r);if(u.call(s,t))return s[t](i);var o=c(null,e);return a(s,t,{value:new Function("s","l",n)(i,o)}),o}}var e={value:{writable:!0,value:i}},n="return function(k){if(k===s)return l}",s=c(null),l=function(){var t=Math.random().toString(36).slice(2);return t in s?l():s[t]=t},h=l(),d=function(t){if(u.call(t,h))return t[h];if(!Object.isExtensible(t))throw new TypeError("Object must be extensible");var e=c(null);return a(t,h,{value:e}),e};return r(Object,function(t){var e=o(t);return u.call(t,h)&&e.splice(e.indexOf(h),1),e}),r(t.prototype,function(t){return this.unlock(t).value}),r(t.prototype,function(t,e){this.unlock(t).value=e}),t}(),p=function(i){function s(e){return this===t||null==this||this===s.prototype?new s(e):(p(this,new d),void g(this,e))}function o(t){h(t);var i=f(this).get(t);return i===e?b:i}function a(t,i){h(t),f(this).set(t,i===b?e:i)}function l(t){return h(t),f(this).get(t)!==b}function c(t){h(t);var e=f(this),i=e.get(t)!==b;return e.set(t,b),i}function u(){return f(this),"[object WeakMap]"}var h=function(t){if(null==t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Invalid WeakMap key")},p=function(t,e){var r=i.unlock(t);if(r.value)throw new TypeError("Object is already a WeakMap");r.value=e},f=function(t){var e=i.unlock(t).value;if(!e)throw new TypeError("WeakMap is not generic");return e},g=function(t,e){null!==e&&"object"==typeof e&&"function"==typeof e.forEach&&e.forEach(function(i,r){i instanceof Array&&2===i.length&&a.call(t,e[r][0],e[r][1])})};try{var m=("return "+c).replace("e_","\\u0065"),v=new Function("unwrap","validate",m)(f,h)}catch(b){var v=c}var m=(""+Object).split("Object"),w=function(){return m[0]+n(this)+m[1]};r(w,w);var y={__proto__:[]}instanceof Array?function(t){t.__proto__=w}:function(t){r(t,w)};return y(s),[u,o,a,l,v].forEach(function(t){r(s.prototype,t),y(t)}),s}(new d),f=Object.create?function(){return Object.create(null)}:function(){return{}};"undefined"!=typeof module?module.exports=p:"undefined"!=typeof exports?exports.WeakMap=p:!("WeakMap"in t)&&(t.WeakMap=p),p.createStorage=s,t.WeakMap&&(t.WeakMap.createStorage=s)}((0,eval)("this"));var codeToClassname=["wi-tornado","wi-day-thunderstorm","wi-hurricane","wi-thunderstorm","wi-storm-showers","wi-rain-mix","wi-rain-mix","wi-rain-mix","wi-rain-mix","wi-snow","wi-rain-mix","wi-showers","wi-showers","wi-snow","wi-snow","wi-rain-mix","wi-snow","wi-rain-mix","wi-hail","wi-fog","wi-fog","wi-fog","wi-fog","wi-fog","wi-cloudy-gusts","wi-cloudy-gusts","wi-cloudy","wi-night-cloudy","wi-day-cloudy","wi-night-partly-cloudy","wi-day-cloudy","wi-night-clear","wi-day-sunny","wi-night-clear","wi-day-sunny","wi-rain-mix","wi-hot","wi-storm-showers","wi-storm-showers","wi-storm-showers","wi-showers","wi-snow","wi-showers","wi-rain-mix","wi-cloudy","wi-storm-showers","wi-hail","wi-storm-showers"];app.bapiModules.templates.marketAreasDefaultTemplate={init:function(){if(this.cond()){new Swiper(".hero .swiper-container",{direction:"horizontal",loop:!0,autoplay:3e3,speed:1e3,effect:"fade",pagination:".swiper-pagination",nextButton:".swiper-button-next",prevButton:".swiper-button-prev",scrollbar:".swiper-scrollbar"});$(".tab-selector a").on("click",function(t){$(".tab-selector a").removeClass("primary-fill-color"),$(this).addClass("primary-fill-color"),$(".tabs-contents li").removeClass("active"),$($(this).attr("data-target")).addClass("active")})}},cond:function(){return app.exists(".market-areas-default-template")}},app.bapiModules.templates.propertyDetails={forceusemap:!1,mobileBreak:768,init:function(){this.cond()&&this.openCloseAmenitiesList().lightBoxAndCarousel().checkPropSettings().checkUseMap()},lightBoxAndCarousel:function(){var t=jQuery(".ppt-slides a").simpleLightbox();return jQuery(document).on("click",".more,.open-lightbox, .ppt-slides a",function(e){if(e.preventDefault(),"undefined"!=typeof jQuery(this).attr("data-index")){var i=jQuery(this).attr("data-index");t.open(jQuery(jQuery('.ppt-slides a[data-index="'+i+'"]')))}else t.open(jQuery(jQuery(".ppt-slides a")[0]))}),window.innerWidth<=768&&this.swiperCarousel(),this},swiperCarousel:function(){return"undefined"!=typeof SWCarousel&&SWCarousel||(SWCarousel=new Swiper(".ppt-images",{spaceBetween:0,nextButton:".next-slide",prevButton:".prev-slide",slidesPerView:1})),this},openCloseAmenitiesList:function(){return jQuery(document).on("click",".template-property .open-close",function(t){jQuery(this).parent().toggleClass("active")}),this},fixHeroImage:function(){if(app.exists(".hero-image")&&!app.isMobile()){var t=jQuery(".hero-image"),e=t.height(),i=t.parent(),r=i.height();if(e>r){var n=Math.round((e-r)/2);t.css("bottom","-"+n+"px")}}return this},checkUseMap:function(){function t(){var t={path:"M-0.5-41C-7.9-41-14-34.9-14-27.5c0,3,1.9,7.9,5.9,15c2.8,5,5.5,9.2,5.6,9.3l2,3l2-3c0.1-0.2,2.9-4.3,5.6-9.3c3.9-7.1,5.9-12,5.9-15C13-34.9,7-41-0.5-41z M-0.5-20.6c-3.9,0-7-3.1-7-7s3.1-7,7-7s7,3.1,7,7S3.4-20.6-0.5-20.6z",fillColor:u,fillOpacity:1,strokeColor:"rgba(0,0,0,.25)",strokeWeight:1};new google.maps.Marker({position:new google.maps.LatLng(n,s),map:c,iw:!1,icon:t})}function e(){var t=new google.maps.StreetViewPanorama(document.getElementById("pano"),{position:{lat:parseFloat(n),lng:parseFloat(s)},pov:{heading:34,pitch:10}});c.setStreetView(t)}function i(){jQuery(l).css("width","50%");var t=c.getCenter();google.maps.event.trigger(c,"resize"),c.setCenter(t),jQuery("#pano").css("width","50%").css("left","50%")}var r=parseInt(jQuery(".bapi-entityadvisor").attr("data-pkid")),n=jQuery(".bapi-entityadvisor").attr("data-lat"),s=jQuery(".bapi-entityadvisor").attr("data-long"),o=selected_usemap,a=!1;o.forEach(function(t){t===r&&(a=!0)}),/comingsoon\.gif/.test(jQuery(".bapi-entityadvisor").attr("data-bg"))&&(a=!0),this.forceusemap&&(a=!0);var l=document.querySelector(".hero-image");if(a){var c=new google.maps.Map(l,{center:{lat:parseFloat(n),lng:parseFloat(s)},scrollwheel:!1,zoom:18}),u=document.querySelector(".template-property[data-markercolor]").dataset.markercolor;switch(selected_usemap_layout){case 0:t(),jQuery(l).css("width","100%"),jQuery("#pano").hide();break;case 1:t(),e(),i();break;case 2:e(),jQuery(l).hide;break;default:t(),e(),i()}}else{var h=jQuery(".bapi-entityadvisor").attr("data-bg");jQuery(l).css("background-image",'url("'+h+'")')}return this},checkThumbs:function(){return/comingsoon\.gif/.test($(".simple-lightbox").attr("href"))?/comingsoon\.gif/.test(jQuery(".bapi-entityadvisor").attr("data-bg"))?($(".ppt-images").hide(),$(".ppt-desc").css("width","100%")):($(".ppt-images").show(),$(".simple-lightbox").attr("href",jQuery(".bapi-entityadvisor").attr("data-bg")),$(".thumb-img").attr("src",jQuery(".bapi-entityadvisor").attr("data-bg"))):($(".ppt-images").show(),1===$(".thumb-img").length&&($(".hero-image").css("background","transparent"),this.forceusemap=!0,$(".more").hide(),$(".ppt-slides li:first-child").css("width","100%"))),this},checkPropSettings:function(){return force_usemap&&(this.forceusemap=!0),forced_featured&&(this.forcedfeatured=!0),usemap_layout>=0&&force_usemap&&(selected_usemap_layout=usemap_layout),this},cond:function(){return app.exists(".page-template-property-detail")}},app.bapiModules.templates.searchPage={defaultView:"",templateSelector:"body.page-template-search-page",mapEle:document.querySelector("#mapContainer"),listInitted:!1,mapInitted:!1,mapPropContainer:document.querySelector("#mapPropertiesContainer"),listPropContainer:document.querySelector("#listPropertiesContainer"),properties:[],totalProps:0,mapObj:null,clustererObj:null,spiderfyObj:null,bounds:null,markers:[],propMarkers:{},openMarkers:[],currentViewMarkers:[],cond:function(){return document.querySelectorAll(this.templateSelector).length>0},init:function(){switch(this.viewToggle(),this.defaultView=BAPI.config().defaultsearchresultview,this.defaultView){case"tmpl-propertysearch-listview":this.doListView();break;case"tmpl-propertysearch-mapview":default:this.doMapView()}this.mapResetEvents()},getProperties:function(t,e){var i=20;this.properties.length?this.properties.forEach(function(e,i){t.call(this,e,i),this.updateCounters()}.bind(this)):app.bapi.search("property",function(r){var n=r.result,s=r.result.length;if(this.totalProps=s,this.updateCounters(),0==s)return void e.call(this,{},0);var o=_.chunk(n,i);o.forEach(function(e,r){app.bapi.get("property",e,function(e){e.result.forEach(function(e,i){this.properties=_.concat(this.properties,[e]),t.call(this,e,i),this.updateCounters()}.bind(this))}.bind(this),{pagesize:i,seo:!0})}.bind(this))}.bind(this),BAPI.session.searchparams)},updateCounters:function(){var t=this.properties.length,e=100*t/this.totalProps;$(".map .loader .bar").css("width",e+"%"),$(".ppty-count-current").text(t),$(".ppty-count-total").text(this.totalProps)},initMap:function(t,e){var i=BAPI.config().mapviewType,r=[{featureType:"landscape",stylers:[{hue:"#FFBB00"},{saturation:43.400000000000006},{lightness:37.599999999999994},{gamma:1}]},{featureType:"road.highway",stylers:[{hue:"#FFC200"},{saturation:-61.8},{lightness:45.599999999999994},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:51.19999999999999},{gamma:1}]},{featureType:"road.local",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:52},{gamma:1}]},{featureType:"water",stylers:[{hue:"#0078FF"},{saturation:-13.200000000000003},{lightness:2.4000000000000057},{gamma:1}]},{featureType:"poi",stylers:[{hue:"#00FF6A"},{saturation:-1.0989010989011234},{lightness:11.200000000000017},{gamma:1}]}];this.mapObj=new google.maps.Map(this.mapEle,{center:{lat:t,lng:e},zoom:8,styles:r,mapTypeId:google.maps.MapTypeId[i]})},initClusterer:function(){var t=[53,56,66,78,90],e=[{url:"/wp-content/themes/Sites-Theme-Kigo-Discovery/kd-common/img/markers/m1.png",height:t[0],width:t[0]},{url:"/wp-content/themes/Sites-Theme-Kigo-Discovery/kd-common/img/markers/m2.png",height:t[1],width:t[1]},{url:"/wp-content/themes/Sites-Theme-Kigo-Discovery/kd-common/img/markers/m3.png",height:t[2],width:t[2]},{url:"/wp-content/themes/Sites-Theme-Kigo-Discovery/kd-common/img/markers/m4.png",height:t[3],width:t[3]},{url:"/wp-content/themes/Sites-Theme-Kigo-Discovery/kd-common/img/markers/m5.png",height:t[4],width:t[4]}],i={gridSize:50,maxZoom:13,styles:e};this.clustererObj=new MarkerClusterer(this.mapObj,this.markers,i)},initSpiderfy:function(){this.spiderfyObj=new OverlappingMarkerSpiderfier(this.mapObj,{markersWontMove:!0,markersWontHide:!0,keepSpiderfied:!0,legWeight:2})},addMarker:function(t){var e=new google.maps.InfoWindow({content:'<div class="info-html prop-infowindow"><a href="'+t.ContextData.SEO.DetailURL+'" class="image" style="background-image: url('+t.PrimaryImage.ThumbnailURL+')"></a><div class="info"><h5 class="title">'+t.Headline+"</h5>"+t.Location+"</div></div>"}),i=new google.maps.Marker({position:new google.maps.LatLng(t.Latitude,t.Longitude),prop:t,map:this.mapObj,iw:e,icon:{path:"M-0.5-41C-7.9-41-14-34.9-14-27.5c0,3,1.9,7.9,5.9,15c2.8,5,5.5,9.2,5.6,9.3l2,3l2-3c0.1-0.2,2.9-4.3,5.6-9.3c3.9-7.1,5.9-12,5.9-15C13-34.9,7-41-0.5-41z M-0.5-20.6c-3.9,0-7-3.1-7-7s3.1-7,7-7s7,3.1,7,7S3.4-20.6-0.5-20.6z",fillColor:this.mapEle.dataset.color,fillOpacity:1,strokeWeight:0}});i.addListener("click",this.openMarker.bind(this,i)),this.clustererObj.addMarker(i),this.spiderfyObj.addMarker(i),this.spiderfyObj.addListener("click",function(t){this.openMarker(t)}.bind(this)),this.markers.push(i),this.propMarkers[t.AltID]=i},openMarker:function(t){this.openMarkers.map(function(t){t.iw.close()}),this.mapObj.setZoom(15);var e=new google.maps.LatLng({lat:t.getPosition().lat()+.004623495678337974,lng:t.getPosition().lng()});this.mapObj.panTo(e),_.delay(function(){t.iw.open(this.mapObj,t)}.bind(this),150),this.openMarkers.push(t)},addMapProps:function(t){var e=app.bapi.render("tmpl-propertysearch-mapview",{result:t,textdata:BAPI.textdata});this.mapPropContainer.innerHTML=e;var i=this.mapPropContainer.querySelectorAll("[data-altid]");_(i).forEach(function(t){var e=t.querySelector(".viewInMap"),i=t.dataset.altid;e.addEventListener("click",function(){var t=this.propMarkers[i];this.openMarker(t)}.bind(this))}.bind(this))},mapResetEvents:function(){var t=document.querySelectorAll(".resetMap");_.map(t,function(t){t.addEventListener("click",this.centerMap.bind(this))}.bind(this))},centerMap:function(){if(null==this.bounds){var t=new google.maps.LatLngBounds,e=this.markers;for(i in e){var r=e[i];t.extend(new google.maps.LatLng(r.position.lat(),r.position.lng()))}this.bounds=t,this.mapObj.fitBounds(this.bounds)}else this.mapObj.fitBounds(this.bounds)},mapBoundProps:function(){google.maps.event.addListener(this.mapObj,"dragstart",function(){this.mapPropContainer.classList.add("loading")}.bind(this)),google.maps.event.addListener(this.mapObj,"idle",function(){this.mapPropContainer.classList.remove("loading")}.bind(this)),google.maps.event.addListener(this.mapObj,"bounds_changed",_.debounce(function(){this.currentViewMarkers=[],this.markers.forEach(function(t){this.mapObj.getBounds().contains(t.getPosition())&&this.currentViewMarkers.push(t)}.bind(this));var t=[];this.currentViewMarkers.forEach(function(e){t.push(e.prop)}),this.addMapProps(t),$(".ppty-count-current").text(t.length)}.bind(this),250))},doMapView:function(){return document.querySelector(".listView").classList.add("hidden"),document.querySelector(".mapView").classList.remove("hidden"),this.mapInitted?void this.centerMap():void this.getProperties(function(t,e){0==this.markers.length&&(this.initMap(t.Latitude,t.Longitude),this.initClusterer(),this.initSpiderfy(),this.mapBoundProps()),this.addMarker(t),this.markers.length==this.totalProps&&(this.centerMap(),this.mapInitted=!0,_.map(document.querySelectorAll(".viewToggle button"),function(t){t.removeAttribute("disabled")}))},function(){this.addMapProps(this.properties)})},doListView:function(){document.querySelector(".mapView").classList.add("hidden"),document.querySelector(".listView").classList.remove("hidden"),this.listInitted||(this.getProperties(function(t,e){t.Summary=t.Summary.length<=200?t.Summary:t.Summary.replace(/(<([^>]+)>)/gi,"").substr(0,200)+'... <a href="'+t.ContextData.SEO.DetailURL+'">['+BAPI.textdata.more+"]</a>";
var i=app.bapi.render("tmpl-propertysearch-listview",{result:[t],textdata:BAPI.textdata});this.listPropContainer.innerHTML+=i,this.properties.length==this.totalProps&&_.map(document.querySelectorAll(".viewToggle button"),function(t){t.removeAttribute("disabled")})},function(){var t=app.bapi.render("tmpl-propertysearch-listview",{result:[],textdata:BAPI.textdata});this.listPropContainer.innerHTML+=t}),this.listInitted=!0)},viewToggle:function(){document.querySelector(".viewToggle .v-map").addEventListener("click",this.doMapView.bind(this)),document.querySelector(".viewToggle .v-list").addEventListener("click",this.doListView.bind(this))}},app.bapiModules.widgets.buckets={selector:".kd-buckets",init:function(){$(this.selector).each(function(t,e){app.bapi.recursiveGet("searches",function(t){var i=Object.assign(t,{"class":e.dataset["class"]});e.innerHTML=app.bapi.render("tmpl-searches-quickview",i)})})},cond:function(){return app.exists(this.selector)}},app.modules.widgets.featured={selector:".kd-featured",sliderSelector:".swiper-container",observedSelector:".swiper-wrapper",init:function(){var t=document.querySelectorAll(this.selector);$.each(t,function(t,e){var i=e.querySelector(this.observedSelector);if(i.children.length>0)this.initSlider(t,e);else{var r=new MutationObserver(function(i){this.initSlider(t,e),r.disconnect()}.bind(this));r.observe(i,{childList:!0})}}.bind(this))},cond:function(){return app.exists(this.selector)},getSliderConfig:function(t){return{autoplay:!1,loop:!0,paginationClickable:!0,pagination:t.querySelector(".swiper-pagination"),nextButton:t.querySelector(".next"),prevButton:t.querySelector(".prev"),bulletActiveClass:"secondary-fill-color",simulateTouch:!1}},initSlider:function(t,e){var i=e.querySelector(this.sliderSelector);app.initSwiper(i,this.getSliderConfig(e))}},app.modules.widgets.hero={selector:".kd-hero",sliderSelector:".swiper-container",init:function(){var t=document.querySelectorAll(this.selector);$.each(t,this.initSlider.bind(this))},cond:function(){return app.exists(this.selector)},getSliderConfig:function(t){var e=t.querySelector(this.sliderSelector).dataset,i={autoplay:e.speed||!1,loop:"on"==e.loop,nextButton:t.querySelector(".next"),prevButton:t.querySelector(".prev"),effect:e.effect||"slide",speed:500,freeMode:"on"==e.freemode,direction:e.direction||"horizontal",pagination:"on"==e.pagination&&t.querySelector(".swiper-pagination"),paginationClickable:!0,bulletActiveClass:"active",centeredSlides:"on"==e.centered_slides,slidesPerView:e.slides_per_view||1};return i},initSlider:function(t,e){var i=this.getSliderConfig(e);app.initSwiper(e.querySelector(this.sliderSelector),i)}},app.modules.widgets.items={selector:".kd-items",init:function(){this.toggleEvents(),this.initSliders()},toggleEvents:function(){var t=document.querySelectorAll(".item-block .open-close");$.each(t,function(t,e){e.addEventListener("click",function(t){this.parentElement.classList.toggle("active")})})},initSliders:function(){for(var t=document.querySelectorAll(this.selector+" .swiper-container"),e=0;e<t.length;e++){var i=t[e];new Swiper(i,{spaceBetween:15,nextButton:".next-slide",prevButton:".prev-slide",slidesPerView:i.dataset.columns||5,loop:!0,loopAdditionalSlides:5,breakpoints:{992:{slidesPerView:3},780:{centeredSlides:!0,slidesPerView:2},480:{centeredSlides:!0,slidesPerView:1}}})}},cond:function(){return app.exists(".kd-items")}},app.modules.widgets.menu={selector:".kd-menu",init:function(){for(var t=document.querySelectorAll(this.selector),e=0;e<t.length;e++)this.bindEvents(t.item(e))},cond:function(){return app.exists(this.selector)},bindEvents:function(t){var e=t.querySelector(".toggle");e.addEventListener("click",this.toggleMenu.bind(t))},toggleMenu:function(){this.classList.toggle("active")}},app.bapiModules.widgets.search={selector:".kd-search",init:function(){$(this.selector).each(function(t,e){e.querySelector(".search-button-block .more").addEventListener("click",function(t){e.classList.toggle("open"),this.classList.toggle("active")})})},cond:function(){return app.exists(this.selector)}},app.bapiModules.widgets.selective_search={selector:".kd-selective-search-box",init:function(){$(".kd-selective-search-box .toggle-filter").on("click",function(t){t.preventDefault(),$(this).toggleClass("active");var e=$($(this).attr("data-types")),i=$(this).parent().parent().find(".toggle-filter"),r=$(this).prev();r.prop("checked",!r.prop("checked"));var n=[];$.each(i,function(t,e){$(this).hasClass("active")&&n.push($(this).attr("data-toggle"))}),e.get(0).value=n.join(",")}),$(".filter-by").on("click",function(t){t.preventDefault(),$(this).toggleClass("active"),$(this).parent().on("click",function(t){t.stopPropagation()}),$(this).parent().next().toggleClass("active")}),$(".clearsearch").on("click",function(t){t.preventDefault(),$(".kd-selective-search-box .toggle-filter").removeClass("active");var e=$($(this).attr("data-types")),i=$(this).parent().parent().find(".ptype input");i.prop("checked",!1),e.get(0).value=""}),$(window).on("click",function(t){$(".currently-filtering").removeClass("active"),$(".filter-by").removeClass("active")}),$(".currently-filtering").on("click",function(t){t.stopPropagation()})},cond:function(){return app.exists(this.selector)}},app.bapiModules.widgets.specials={selector:".kd-specials",init:function(){$(this.selector).each(function(t,e){app.bapiRender("specials","tmpl-specials-quickview",function(t){e.innerHTML=t},{"class":e.dataset["class"]})})},cond:function(){return app.exists(this.selector)}},app.modules.widgets.team={mobileBreak:991,selector:".kd-team",init:function(){for(var t=document.querySelectorAll(this.selector+".swiper-container"),e=0;e<t.length;e++){var i=t[e];new Swiper(i,{nextButton:".next-slide",prevButton:".prev-slide",slidesPerView:i.dataset.columns||5,loop:!0,loopAdditionalSlides:5,simulateTouch:!1,breakpoints:{992:{slidesPerView:3},780:{centeredSlides:!0,slidesPerView:2},480:{centeredSlides:!0,slidesPerView:1}},onInit:function(){i.classList.remove("faded-out")}})}},cond:function(){return app.exists(".kd-team")}};