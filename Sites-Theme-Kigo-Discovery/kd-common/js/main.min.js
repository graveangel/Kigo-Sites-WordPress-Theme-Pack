function debounce(e,t,i){var r;return function(){var n=this,o=arguments,s=function(){r=null,i||e.apply(n,o)},a=i&&!r;clearTimeout(r),r=setTimeout(s,t),a&&e.apply(n,o)}}function setCookie(e,t,i){var r=new Date;r.setTime(r.getTime()+24*i*60*60*1e3);var n="expires="+r.toUTCString();document.cookie=e+"="+t+"; "+n}function getCookie(e){for(var t=e+"=",i=document.cookie.split(";"),r=0;r<i.length;r++){for(var n=i[r];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}function getClassnameForCode(e){return e<0||e>47?"wi-na":codeToClassname[e]}var app={debug:!0,modules:{widgets:{},templates:{}},bapiModules:{widgets:{},templates:{}},init:function(){this.initModules(this.modules),this.fixedHeader(),this.kdMove()},initBapi:function(){this.initModules(this.bapiModules)},initModules:function(e){for(var t in e)"function"==typeof e[t].init&&"function"==typeof e[t].cond?e[t].cond()&&(app.log("Initializing module",t,e[t]),e[t].init()):this.initModules(e[t])},initSwiper:function(e,t){return new Swiper(e,t)},fixedHeader:function(){function e(){var e=window.scrollY;e>=r?(t.classList.add("fixed"),t.dispatchEvent(app.events.headerFixed)):(t.classList.remove("fixed"),t.dispatchEvent(app.events.headerUnfixed))}var t=(document.querySelector("body"),document.querySelector(".header-background")),i=document.querySelector(".header-background .under_header"),r=t.clientHeight-i.clientHeight;window.addEventListener("scroll",e),e()},exists:function(e){var t=document.querySelector(e);return!!t},isMobile:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)},log:function(){this.debug&&console.log.apply(console,arguments)},bapiRender:function(e,t,i,r){var n={pagesize:20,seo:!0};BAPI.search(e,n,function(n){BAPI.get(n.result,e,{},function(e){var n={};n.result=e.result,n.config=BAPI.config();var o="object"==typeof r?Object.assign(n,r):n,s=Mustache.render(BAPI.UI.mustacheHelpers.getPartials(t),o);i(s)})})},bapi:{search:function(e,t,i){var r=i||{};BAPI.search(e,r,function(e){t(e)})},get:function(e,t,i,r){BAPI.get(t,e,_.assign(r,{}),function(e){i(e)})},recursiveGet:function(e,t,i){var r=i||{pagesize:20,waitForAll:!1};BAPI.search(e,r,function(i){var n=_.chunk(i.result,r.pagesize);if(1==r.waitForAll){var o=[],s=0;n.forEach(function(i,a){BAPI.get(i,e,r,function(e){s++,o=_.concat(o,e.result),s==n.length&&t({result:o,textdata:BAPI.textdata})})})}else n.forEach(function(i,n){BAPI.get(i,e,r,function(e){t(e)})})})},render:function(e,t){return Mustache.render(BAPI.UI.mustacheHelpers.getPartials(e),t)}},kdMove:function(){for(var e=document.querySelectorAll("[data-move]"),t=0;t<e.length;t++){var i=e[t],r=document.querySelector(i.dataset.move);r.appendChild(e[t]),i.classList.add("hasMoved")}}};window.addEventListener("load",app.init.bind(app)),window.addEventListener("DOMContentLoaded",app.initBapi.bind(app)),!function(e,t,i,r){function n(e,t){var i=Math.max(0,e[0]-t[0],t[0]-e[1]),r=Math.max(0,e[2]-t[1],t[1]-e[3]);return i+r}function o(t,i,r,n){var o=t.length,s=n?"offset":"position";for(r=r||0;o--;){var a=t[o].el?t[o].el:e(t[o]),l=a[s]();l.left+=parseInt(a.css("margin-left"),10),l.top+=parseInt(a.css("margin-top"),10),i[o]=[l.left-r,l.left+a.outerWidth()+r,l.top-r,l.top+a.outerHeight()+r]}}function s(e,t){var i=t.offset();return{left:e.left-i.left,top:e.top-i.top}}function a(e,t,i){t=[t.left,t.top],i=i&&[i.left,i.top];for(var r,o=e.length,s=[];o--;)r=e[o],s[o]=[o,n(r,t),i&&n(r,i)];return s=s.sort(function(e,t){return t[1]-e[1]||t[2]-e[2]||t[0]-e[0]})}function l(t){this.options=e.extend({},p,t),this.containers=[],this.options.rootGroup||(this.scrollProxy=e.proxy(this.scroll,this),this.dragProxy=e.proxy(this.drag,this),this.dropProxy=e.proxy(this.drop,this),this.placeholder=e(this.options.placeholder),t.isValidTarget||(this.options.isValidTarget=r))}function c(t,i){this.el=t,this.options=e.extend({},u,i),this.group=l.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var r=this.rootGroup.options.itemPath;this.target=r?this.el.find(r):this.el,this.target.on(g.start,this.handle,e.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var u={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},p={afterMove:function(e,t,i){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"dragging",draggedClass:"dragged",isValidTarget:function(e,t){return!0},onCancel:function(e,t,i,r){},onDrag:function(e,t,i,r){e.css(t)},onDragStart:function(t,i,r,n){t.css({height:t.outerHeight(),width:t.outerWidth()}),t.addClass(i.group.options.draggedClass),e("body").addClass(i.group.options.bodyClass)},onDrop:function(t,i,r,n){t.removeClass(i.group.options.draggedClass).removeAttr("style"),e("body").removeClass(i.group.options.bodyClass)},onMousedown:function(e,t,i){if(!i.target.nodeName.match(/^(input|select|textarea)$/i))return i.preventDefault(),!0},placeholderClass:"placeholder",placeholder:'<li class="placeholder"></li>',pullPlaceholder:!0,serialize:function(t,i,r){var n=e.extend({},t.data());return r?[i]:(i[0]&&(n.children=i),delete n.subContainers,delete n.sortable,n)},tolerance:0},d={},h=0,f={left:0,top:0,bottom:0,right:0},g={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},m="subContainers";l.get=function(e){return d[e.group]||(e.group===r&&(e.group=h++),d[e.group]=new l(e)),d[e.group]},l.prototype={dragInit:function(t,i){this.$document=e(i.el[0].ownerDocument);var r=e(t.target).closest(this.options.itemSelector);if(r.length){if(this.item=r,this.itemContainer=i,this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,p.onMousedown,t))return;this.setPointer(t),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0}},drag:function(e){if(!this.dragging){if(!this.distanceMet(e)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,p.onDragStart,e),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(e),this.options.onDrag(this.item,s(this.pointer,this.item.offsetParent()),p.onDrag,e);var t=this.getPointer(e),i=this.sameResultBox,n=this.options.tolerance;(!i||i.top-n>t.top||i.bottom+n<t.top||i.left-n>t.left||i.right+n<t.left)&&(this.searchValidTarget()||(this.placeholder.detach(),this.lastAppendedItem=r))},drop:function(e){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,p.onCancel,e),this.options.onDrop(this.item,this.getContainer(this.item),p.onDrop,e),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=r,this.dragging=!1)},searchValidTarget:function(e,t){e||(e=this.relativePointer||this.pointer,t=this.lastRelativePointer||this.lastPointer);for(var i=a(this.getContainerDimensions(),e,t),n=i.length;n--;){var o=i[n][0],l=i[n][1];if(!l||this.options.pullPlaceholder){var c=this.containers[o];if(!c.disabled){if(!this.$getOffsetParent()){var u=c.getItemOffsetParent();e=s(e,u),t=s(t,u)}if(c.searchValidTarget(e,t))return!0}}}this.sameResultBox&&(this.sameResultBox=r)},movePlaceholder:function(e,t,i,r){var n=this.lastAppendedItem;!r&&n&&n[0]===t[0]||(t[i](this.placeholder),this.lastAppendedItem=t,this.sameResultBox=r,this.options.afterMove(this.placeholder,e,t))},getContainerDimensions:function(){return this.containerDimensions||o(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(e){return e.closest(this.options.containerSelector).data(i)},$getOffsetParent:function(){if(this.offsetParent===r){var e=this.containers.length-1,t=this.containers[e].getItemOffsetParent();if(!this.options.rootGroup)for(;e--;)if(t[0]!=this.containers[e].getItemOffsetParent()[0]){t=!1;break}this.offsetParent=t}return this.offsetParent},setPointer:function(e){var t=this.getPointer(e);if(this.$getOffsetParent()){var i=s(t,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=i}this.lastPointer=this.pointer,this.pointer=t},distanceMet:function(e){var t=this.getPointer(e);return Math.max(Math.abs(this.pointer.left-t.left),Math.abs(this.pointer.top-t.top))>=this.options.distance},getPointer:function(e){var t=e.originalEvent||e.originalEvent.touches&&e.originalEvent.touches[0];return{left:e.pageX||t.pageX,top:e.pageY||t.pageY}},setupDelayTimer:function(){var e=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){e.delayMet=!0},this.options.delay))},scroll:function(e){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(t){var i=this,r=["drag","drop","scroll"];e.each(r,function(e,r){i.$document[t](g[r],i[r+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=r},clearDimensions:function(){this.traverse(function(e){e._clearDimensions()})},traverse:function(e){e(this);for(var t=this.containers.length;t--;)this.containers[t].traverse(e)},_clearDimensions:function(){this.containerDimensions=r},_destroy:function(){d[this.options.group]=r}},c.prototype={dragInit:function(e){var t=this.rootGroup;!this.disabled&&!t.dragInitDone&&this.options.drag&&this.isValidDrag(e)&&t.dragInit(e,this)},isValidDrag:function(e){return 1==e.which||"touchstart"==e.type&&1==e.originalEvent.touches.length},searchValidTarget:function(e,t){var i=a(this.getItemDimensions(),e,t),r=i.length,n=this.rootGroup,o=!n.options.isValidTarget||n.options.isValidTarget(n.item,this);if(!r&&o)return n.movePlaceholder(this,this.target,"append"),!0;for(;r--;){var s=i[r][0],l=i[r][1];if(!l&&this.hasChildGroup(s)){var c=this.getContainerGroup(s).searchValidTarget(e,t);if(c)return!0}else if(o)return this.movePlaceholder(s,e),!0}},movePlaceholder:function(t,i){var r=e(this.items[t]),n=this.itemDimensions[t],o="after",s=r.outerWidth(),a=r.outerHeight(),l=r.offset(),c={left:l.left,right:l.left+s,top:l.top,bottom:l.top+a};if(this.options.vertical){var u=(n[2]+n[3])/2,p=i.top<=u;p?(o="before",c.bottom-=a/2):c.top+=a/2}else{var d=(n[0]+n[1])/2,h=i.left<=d;h?(o="before",c.right-=s/2):c.left+=s/2}this.hasChildGroup(t)&&(c=f),this.rootGroup.movePlaceholder(this,r,o,c)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get(),o(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var e,t=this.el;return e="relative"===t.css("position")||"absolute"===t.css("position")||"fixed"===t.css("position")?t:t.offsetParent()},hasChildGroup:function(e){return this.options.nested&&this.getContainerGroup(e)},getContainerGroup:function(t){var n=e.data(this.items[t],m);if(n===r){var o=this.$getChildren(this.items[t],"container");if(n=!1,o[0]){var s=e.extend({},this.options,{rootGroup:this.rootGroup,group:h++});n=o[i](s).data(i).group}e.data(this.items[t],m,n)}return n},$getChildren:function(t,i){var r=this.rootGroup.options,n=r[i+"Path"],o=r[i+"Selector"];return t=e(t),n&&(t=t.find(n)),t.children(o)},_serialize:function(t,i){var r=this,n=i?"item":"container",o=this.$getChildren(t,n).not(this.options.exclude).map(function(){return r._serialize(e(this),!i)}).get();return this.rootGroup.options.serialize(t,o,i)},traverse:function(t){e.each(this.items||[],function(i){var r=e.data(this,m);r&&r.traverse(t)}),t(this)},_clearDimensions:function(){this.itemDimensions=r},_destroy:function(){var t=this;this.target.off(g.start,this.handle),this.el.removeData(i),this.options.drop&&(this.group.containers=e.grep(this.group.containers,function(e){return e!=t})),e.each(this.items||[],function(){e.removeData(this,m)})}};var v={enable:function(){this.traverse(function(e){e.disabled=!1})},disable:function(){this.traverse(function(e){e.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(e){e._clearDimensions()})},destroy:function(){this.traverse(function(e){e._destroy()})}};e.extend(c.prototype,v),e.fn[i]=function(t){var n=Array.prototype.slice.call(arguments,1);return this.map(function(){var o=e(this),s=o.data(i);return s&&v[t]?v[t].apply(s,n)||this:(s||t!==r&&"object"!=typeof t||o.data(i,new c(o,t)),this)})}}(jQuery,window,"sortable"),function(e){function t(e){y.push(e),b||(b=!0,g(r))}function i(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function r(){b=!1;var e=y;y=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var i=e.takeRecords();n(e),i.length&&(e.callback_(i,e),t=!0)}),t&&r()}function n(e){e.nodes_.forEach(function(t){var i=m.get(t);i&&i.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function o(e,t){for(var i=e;i;i=i.parentNode){var r=m.get(i);if(r)for(var n=0;n<r.length;n++){var o=r[n],s=o.options;if(i===e||s.subtree){var a=t(s);a&&o.enqueue(a)}}}}function s(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++k}function a(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function l(e){var t=new a(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function c(e,t){return M=new a(e,t)}function u(e){return x?x:(x=l(M),x.oldValue=e,x)}function p(){M=x=void 0}function d(e){return e===x||e===M}function h(e,t){return e===t?e:x&&d(e)?x:null}function f(e,t,i){this.observer=e,this.target=t,this.options=i,this.transientObservedNodes=[]}if(!e.JsMutationObserver){var g,m=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))g=setTimeout;else if(window.setImmediate)g=window.setImmediate;else{var v=[],w=String(Math.random());window.addEventListener("message",function(e){if(e.data===w){var t=v;v=[],t.forEach(function(e){e()})}}),g=function(e){v.push(e),window.postMessage(w,"*")}}var b=!1,y=[],k=0;s.prototype={observe:function(e,t){if(e=i(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var r=m.get(e);r||m.set(e,r=[]);for(var n,o=0;o<r.length;o++)if(r[o].observer===this){n=r[o],n.removeListeners(),n.options=t;break}n||(n=new f(this,e,t),r.push(n),this.nodes_.push(e)),n.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=m.get(e),i=0;i<t.length;i++){var r=t[i];if(r.observer===this){r.removeListeners(),t.splice(i,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var M,x;f.prototype={enqueue:function(e){var i=this.observer.records_,r=i.length;if(i.length>0){var n=i[r-1],o=h(n,e);if(o)return void(i[r-1]=o)}else t(this.observer);i[r]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=m.get(e);t||m.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=m.get(e),i=0;i<t.length;i++)if(t[i]===this){t.splice(i,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,i=e.relatedNode.namespaceURI,r=e.target,n=new c("attributes",r);n.attributeName=t,n.attributeNamespace=i;var s=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;o(r,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||e.attributeFilter.indexOf(t)!==-1||e.attributeFilter.indexOf(i)!==-1))return e.attributeOldValue?u(s):n});break;case"DOMCharacterDataModified":var r=e.target,n=c("characterData",r),s=e.prevValue;o(r,function(e){if(e.characterData)return e.characterDataOldValue?u(s):n});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var a,l,d=e.target;"DOMNodeInserted"===e.type?(a=[d],l=[]):(a=[],l=[d]);var h=d.previousSibling,f=d.nextSibling,n=c("childList",e.target.parentNode);n.addedNodes=a,n.removedNodes=l,n.previousSibling=h,n.nextSibling=f,o(e.relatedNode,function(e){if(e.childList)return n})}p()}},e.JsMutationObserver=s,e.MutationObserver||(e.MutationObserver=s,s._isPolyfilled=!0)}}(self),void function(e,t,i){function r(e,t,i){return"function"==typeof t&&(i=t,t=n(i).replace(/_$/,"")),a(e,t,{configurable:!0,writable:!0,value:i})}function n(e){return"function"!=typeof e?"":"name"in e?e.name:l.call(e).match(p)[1]}function o(e){function t(t,n){return n||2===arguments.length?r.set(t,n):(n=r.get(t),n===i&&(n=e(t),r.set(t,n))),n}var r=new WeakMap;return e||(e=f),t}var s=Object.getOwnPropertyNames,a=Object.defineProperty,l=Function.prototype.toString,c=Object.create,u=Object.prototype.hasOwnProperty,p=/^\n?function\s?(\w*)?_?\(/,d=function(){function e(){var e=l(),i={};this.unlock=function(r){var o=d(r);if(u.call(o,e))return o[e](i);var s=c(null,t);return a(o,e,{value:new Function("s","l",n)(i,s)}),s}}var t={value:{writable:!0,value:i}},n="return function(k){if(k===s)return l}",o=c(null),l=function(){var e=Math.random().toString(36).slice(2);return e in o?l():o[e]=e},p=l(),d=function(e){if(u.call(e,p))return e[p];if(!Object.isExtensible(e))throw new TypeError("Object must be extensible");var t=c(null);return a(e,p,{value:t}),t};return r(Object,function(e){var t=s(e);return u.call(e,p)&&t.splice(t.indexOf(p),1),t}),r(e.prototype,function(e){return this.unlock(e).value}),r(e.prototype,function(e,t){this.unlock(e).value=t}),e}(),h=function(i){function o(t){return this===e||null==this||this===o.prototype?new o(t):(h(this,new d),void g(this,t))}function s(e){p(e);var i=f(this).get(e);return i===t?w:i}function a(e,i){p(e),f(this).set(e,i===w?t:i)}function l(e){return p(e),f(this).get(e)!==w}function c(e){p(e);var t=f(this),i=t.get(e)!==w;return t.set(e,w),i}function u(){return f(this),"[object WeakMap]"}var p=function(e){if(null==e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Invalid WeakMap key")},h=function(e,t){var r=i.unlock(e);if(r.value)throw new TypeError("Object is already a WeakMap");r.value=t},f=function(e){var t=i.unlock(e).value;if(!t)throw new TypeError("WeakMap is not generic");return t},g=function(e,t){null!==t&&"object"==typeof t&&"function"==typeof t.forEach&&t.forEach(function(i,r){i instanceof Array&&2===i.length&&a.call(e,t[r][0],t[r][1])})};try{var m=("return "+c).replace("e_","\\u0065"),v=new Function("unwrap","validate",m)(f,p)}catch(w){var v=c}var m=(""+Object).split("Object"),b=function(){return m[0]+n(this)+m[1]};r(b,b);var y={__proto__:[]}instanceof Array?function(e){e.__proto__=b}:function(e){r(e,b)};return y(o),[u,s,a,l,v].forEach(function(e){r(o.prototype,e),y(e)}),o}(new d),f=Object.create?function(){return Object.create(null)}:function(){return{}};"undefined"!=typeof module?module.exports=h:"undefined"!=typeof exports?exports.WeakMap=h:!("WeakMap"in e)&&(e.WeakMap=h),h.createStorage=o,e.WeakMap&&(e.WeakMap.createStorage=o)}((0,eval)("this")),app.events={headerFixed:new CustomEvent("headerFixed",{bubbles:!0,cancelable:!1}),headerUnfixed:new CustomEvent("headerunFixed",{bubbles:!0,cancelable:!1})};var codeToClassname=["wi-tornado","wi-day-thunderstorm","wi-hurricane","wi-thunderstorm","wi-storm-showers","wi-rain-mix","wi-rain-mix","wi-rain-mix","wi-rain-mix","wi-snow","wi-rain-mix","wi-showers","wi-showers","wi-snow","wi-snow","wi-rain-mix","wi-snow","wi-rain-mix","wi-hail","wi-fog","wi-fog","wi-fog","wi-fog","wi-fog","wi-cloudy-gusts","wi-cloudy-gusts","wi-cloudy","wi-night-cloudy","wi-day-cloudy","wi-night-partly-cloudy","wi-day-cloudy","wi-night-clear","wi-day-sunny","wi-night-clear","wi-day-sunny","wi-rain-mix","wi-hot","wi-storm-showers","wi-storm-showers","wi-storm-showers","wi-showers","wi-snow","wi-showers","wi-rain-mix","wi-cloudy","wi-storm-showers","wi-hail","wi-storm-showers"];app.modules.templates.marketAreaPage={init:function(){if(this.cond()){var e=map_center;marker_array=[];var t=this;$(window).resize(function(e){t.setMapContainer(".mpbx")}),$(document).on("headerFixed",function(e){t.setMapContainer(".mpbx")}),$(document).on("headerunFixed",function(e){$(window).resize()}),this.setMapContainer(".mpbx");var i=this.put_map_in(".mpbx",e);this.put_properties_in_(i,".mpbx"),$(".vs-button").on("click",function(e){e.preventDefault(),$(".vs-button.active").removeClass("active"),$(this).addClass("active");var i=$(this).attr("data-list");$(".property-list").removeClass("photo").removeClass("list").addClass(i),t.setMapContainer(".mpbx")});new Swiper(".swiper-container",{loop:!0,slidesPerView:3,nextButton:".swiper-button-next",prevButton:".swiper-button-prev",autoplay:3e3,speed:300,breakpoints:{768:{slidesPerView:1}}});$.each($(".ppt-box"),function(e,t){$(t).hover(function(t){new google.maps.event.trigger(marker_array[e],"click")})}),this.enable_modals()}},put_properties_in_:function(e,t){var i=all_props;for(var r in i){var n=i[r],o=new google.maps.InfoWindow({content:'<div class="info-html prop-infowindow"><a href="'+n.url+'" class="image" style="background-image: url('+n.thumbnail+')"></a><div class="info"><h5 class="title">'+n.title+"</h5><p>"+n.summary+"</p></div></div>"}),s={position:n.location,map:e,title:n.title,iw:o,icon:{path:"M-0.5-41C-7.9-41-14-34.9-14-27.5c0,3,1.9,7.9,5.9,15c2.8,5,5.5,9.2,5.6,9.3l2,3l2-3c0.1-0.2,2.9-4.3,5.6-9.3c3.9-7.1,5.9-12,5.9-15C13-34.9,7-41-0.5-41z M-0.5-20.6c-3.9,0-7-3.1-7-7s3.1-7,7-7s7,3.1,7,7S3.4-20.6-0.5-20.6z",fillColor:$(t).css("color"),fillOpacity:1,strokeWeight:0}},a=new google.maps.Marker(s);marker_array.push(a),last_iw_opened=o,a.addListener("click",function(){last_iw_opened.close(),last_iw_opened=this.iw,this.iw.open(e,this)})}},put_map_in:function(e,t){var i=document.querySelector(e),r={center:t,zoom:10},n=new google.maps.Map(i,r);return n},scrTop:function(e){var t=$(window).scrollTop(),i=$(e).offset().top,r=i-t;return r},bottomReached:function(e){var t=$(window).height(),i=$(e).offset().top,r=$(e).height(),n=$(window).scrollTop(),o=-1*(r+i-t-n);return o},setMapContainer:function(e){var t=$(".global-wrapper > .header-background .under_header.header-background"),i=$(window).height()+"px",r=this.bottomReached(".property-list"),n=$(e).parent().width(),o=$(".market-area-content").offset().left+$(".market-area-content").width(),s=$("header .under_header").height(),a=0;a="fixed"==t.css("position")?$(".header + .under_header").height()+2*parseFloat($(".header + .under_header").css("padding-top"))+"px":this.scrTop(".market-area-content")+"px",r>=s?$(e).css("height","calc(100vh - "+$(".featured-image").height()+"px )").parent().addClass("ready").css("height",i).css("right","0px").css("left","auto").css("width",n+"px").css("top","auto").css("bottom","0px").css("position","absolute"):$(e).css("height","calc(100vh - "+$(".featured-image").height()+"px )").parent().addClass("ready").css("height",i).css("left",o+"px").css("right","auto").css("width",n+"px").css("top",a).css("bottom","auto").css("position","fixed")},enable_modals:function(){$(".trigger-modal").on("click",function(e){e.preventDefault();var t=$(this).attr("data-modal");$(t).modal()})},cond:function(){return app.exists(".market-area-page")}},app.bapiModules.templates.marketAreasMainLanding={init:function(){this.cond()},setMap:function(e,t){var i=BAPI.config().mapviewType;t=t||{};var r=new google.maps.Geocoder,n=all_market_areas[0].name;r.geocode({address:n},function(r,n){var o={center:r[0].geometry.location,zoom:4,styles:this.mapStyles,mapTypeId:google.maps.MapTypeId[i]};if(jQuery.extend(o,t),n===google.maps.GeocoderStatus.OK){var s=new google.maps.Map(document.querySelector(e),o);for(var a in all_market_areas){var l=new MarkerWithLabel({position:new google.maps.LatLng(all_market_areas[a].lat,all_market_areas[a].lng),map:s,labelClass:"map-labels",labelAnchor:new google.maps.Point(25,42),labelContent:all_market_areas[a].props_inside,width:"100px",url:all_market_areas[a].guid,icon:{url:all_market_areas[a].icon_url}});l.addListener("click",function(){document.location.href=this.url})}}else console.log("Geocode was not successful for the following reason: "+n)})},cond:function(){return app.exists(".market-areas-main-landing")},mapStyles:[{featureType:"landscape",stylers:[{hue:"#FFBB00"},{saturation:43.400000000000006},{lightness:37.599999999999994},{gamma:1}]},{featureType:"road.highway",stylers:[{hue:"#FFC200"},{saturation:-61.8},{lightness:45.599999999999994},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:51.19999999999999},{gamma:1}]},{featureType:"road.local",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:52},{gamma:1}]},{featureType:"water",stylers:[{hue:"#0078FF"},{saturation:-13.200000000000003},{lightness:2.4000000000000057},{gamma:1}]},{featureType:"poi",stylers:[{hue:"#00FF6A"},{saturation:-1.0989010989011234},{lightness:11.200000000000017},{gamma:1}]}]},app.bapiModules.templates.propertyDetails={forceusemap:!1,mobileBreak:768,init:function(){this.cond()&&this.openCloseAmenitiesList().lightBoxAndCarousel().checkPropSettings().checkUseMap()},lightBoxAndCarousel:function(){var e=jQuery(".ppt-slides a").simpleLightbox();return jQuery(document).on("click",".more,.open-lightbox, .ppt-slides a",function(t){if(t.preventDefault(),"undefined"!=typeof jQuery(this).attr("data-index")){var i=jQuery(this).attr("data-index");e.open(jQuery(jQuery('.ppt-slides a[data-index="'+i+'"]')))}else e.open(jQuery(jQuery(".ppt-slides a")[0]))}),window.innerWidth<=768&&this.swiperCarousel(),this},swiperCarousel:function(){return"undefined"!=typeof SWCarousel&&SWCarousel||(SWCarousel=new Swiper(".ppt-images",{spaceBetween:0,nextButton:".next-slide",prevButton:".prev-slide",slidesPerView:1})),this},openCloseAmenitiesList:function(){return jQuery(document).on("click",".template-property .open-close",function(e){jQuery(this).parent().toggleClass("active")}),this},fixHeroImage:function(){if(app.exists(".hero-image")&&!app.isMobile()){var e=jQuery(".hero-image"),t=e.height(),i=e.parent(),r=i.height();if(t>r){var n=Math.round((t-r)/2);e.css("bottom","-"+n+"px")}}return this},checkUseMap:function(){function e(){var e={path:"M-0.5-41C-7.9-41-14-34.9-14-27.5c0,3,1.9,7.9,5.9,15c2.8,5,5.5,9.2,5.6,9.3l2,3l2-3c0.1-0.2,2.9-4.3,5.6-9.3c3.9-7.1,5.9-12,5.9-15C13-34.9,7-41-0.5-41z M-0.5-20.6c-3.9,0-7-3.1-7-7s3.1-7,7-7s7,3.1,7,7S3.4-20.6-0.5-20.6z",fillColor:u,fillOpacity:1,strokeColor:"rgba(0,0,0,.25)",strokeWeight:1};new google.maps.Marker({position:new google.maps.LatLng(n,o),map:c,iw:!1,icon:e})}function t(){var e=new google.maps.StreetViewPanorama(document.getElementById("pano"),{position:{lat:parseFloat(n),lng:parseFloat(o)},pov:{heading:34,pitch:10}});c.setStreetView(e)}function i(){jQuery(l).css("width","50%");var e=c.getCenter();google.maps.event.trigger(c,"resize"),c.setCenter(e),jQuery("#pano").css("width","50%").css("left","50%")}var r=parseInt(jQuery(".bapi-entityadvisor").attr("data-pkid")),n=jQuery(".bapi-entityadvisor").attr("data-lat"),o=jQuery(".bapi-entityadvisor").attr("data-long"),s=selected_usemap,a=!1;s.forEach(function(e){e===r&&(a=!0)}),/comingsoon\.gif/.test(jQuery(".bapi-entityadvisor").attr("data-bg"))&&(a=!0),this.forceusemap&&(a=!0);var l=document.querySelector(".hero-image");if(a){var c=new google.maps.Map(l,{center:{lat:parseFloat(n),lng:parseFloat(o)},scrollwheel:!1,zoom:18}),u=document.querySelector(".template-property[data-markercolor]").dataset.markercolor;switch(selected_usemap_layout){case 0:e(),jQuery(l).css("width","100%"),jQuery("#pano").hide();break;case 1:e(),t(),i();break;case 2:t(),jQuery(l).hide;break;default:e(),t(),i()}}else{var p=jQuery(".bapi-entityadvisor").attr("data-bg");jQuery(l).css("background-image",'url("'+p+'")')}return this},checkThumbs:function(){return/comingsoon\.gif/.test($(".simple-lightbox").attr("href"))?/comingsoon\.gif/.test(jQuery(".bapi-entityadvisor").attr("data-bg"))?($(".ppt-images").hide(),$(".ppt-desc").css("width","100%")):($(".ppt-images").show(),$(".simple-lightbox").attr("href",jQuery(".bapi-entityadvisor").attr("data-bg")),$(".thumb-img").attr("src",jQuery(".bapi-entityadvisor").attr("data-bg"))):($(".ppt-images").show(),1===$(".thumb-img").length&&($(".hero-image").css("background","transparent"),this.forceusemap=!0,$(".more").hide(),$(".ppt-slides li:first-child").css("width","100%"))),this},checkPropSettings:function(){return force_usemap&&(this.forceusemap=!0),forced_featured&&(this.forcedfeatured=!0),usemap_layout>=0&&force_usemap&&(selected_usemap_layout=usemap_layout),this},cond:function(){return app.exists(".page-template-property-detail")}},app.bapiModules.templates.searchPage={defaultView:"",templateSelector:"body.page-template-search-page",mapEle:document.querySelector("#mapContainer"),listInitted:!1,mapInitted:!1,mapPropContainer:document.querySelector("#mapPropertiesContainer"),listPropContainer:document.querySelector("#listPropertiesContainer"),properties:[],totalProps:0,mapObj:null,clustererObj:null,spiderfyObj:null,bounds:null,markers:[],propMarkers:{},openMarkers:[],currentViewMarkers:[],cond:function(){return document.querySelectorAll(this.templateSelector).length>0},init:function(){switch(this.viewToggle(),this.defaultView=BAPI.config().defaultsearchresultview,this.defaultView){case"tmpl-propertysearch-listview":this.doListView();break;case"tmpl-propertysearch-mapview":default:this.doMapView()}this.mapResetEvents()},getProperties:function(e,t){var i=20;this.properties.length?this.properties.forEach(function(t,i){e.call(this,t,i),this.updateCounters()}.bind(this)):app.bapi.search("property",function(r){var n=r.result,o=r.result.length;if(this.totalProps=o,this.updateCounters(),0==o)return void t.call(this,{},0);var s=_.chunk(n,i);s.forEach(function(t,r){app.bapi.get("property",t,function(t){t.result.forEach(function(t,i){this.properties=_.concat(this.properties,[t]),e.call(this,t,i),this.updateCounters()}.bind(this))}.bind(this),{pagesize:i,seo:!0})}.bind(this))}.bind(this),BAPI.session.searchparams)},updateCounters:function(){var e=this.properties.length,t=100*e/this.totalProps;$(".map .loader .bar").css("width",t+"%"),$(".ppty-count-current").text(e),$(".ppty-count-total").text(this.totalProps)},initMap:function(e,t){var i=BAPI.config().mapviewType,r=[{featureType:"landscape",stylers:[{hue:"#FFBB00"},{saturation:43.400000000000006},{lightness:37.599999999999994},{gamma:1}]},{featureType:"road.highway",stylers:[{hue:"#FFC200"},{saturation:-61.8},{lightness:45.599999999999994},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:"#FF0300"
},{saturation:-100},{lightness:51.19999999999999},{gamma:1}]},{featureType:"road.local",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:52},{gamma:1}]},{featureType:"water",stylers:[{hue:"#0078FF"},{saturation:-13.200000000000003},{lightness:2.4000000000000057},{gamma:1}]},{featureType:"poi",stylers:[{hue:"#00FF6A"},{saturation:-1.0989010989011234},{lightness:11.200000000000017},{gamma:1}]}];this.mapObj=new google.maps.Map(this.mapEle,{center:{lat:e,lng:t},zoom:8,styles:r,mapTypeId:google.maps.MapTypeId[i]})},initClusterer:function(){var e=[53,56,66,78,90],t=[{url:"/wp-content/themes/Sites-Theme-Kigo-Discovery/kd-common/img/markers/m1.png",height:e[0],width:e[0]},{url:"/wp-content/themes/Sites-Theme-Kigo-Discovery/kd-common/img/markers/m2.png",height:e[1],width:e[1]},{url:"/wp-content/themes/Sites-Theme-Kigo-Discovery/kd-common/img/markers/m3.png",height:e[2],width:e[2]},{url:"/wp-content/themes/Sites-Theme-Kigo-Discovery/kd-common/img/markers/m4.png",height:e[3],width:e[3]},{url:"/wp-content/themes/Sites-Theme-Kigo-Discovery/kd-common/img/markers/m5.png",height:e[4],width:e[4]}],i={gridSize:50,maxZoom:13,styles:t};this.clustererObj=new MarkerClusterer(this.mapObj,this.markers,i)},initSpiderfy:function(){this.spiderfyObj=new OverlappingMarkerSpiderfier(this.mapObj,{markersWontMove:!0,markersWontHide:!0,keepSpiderfied:!0,legWeight:2})},addMarker:function(e){var t=new google.maps.InfoWindow({content:'<div class="info-html prop-infowindow"><a href="'+e.ContextData.SEO.DetailURL+'" class="image" style="background-image: url('+e.PrimaryImage.ThumbnailURL+')"></a><div class="info"><h5 class="title">'+e.Headline+"</h5>"+e.Location+"</div></div>"}),i=new google.maps.Marker({position:new google.maps.LatLng(e.Latitude,e.Longitude),prop:e,map:this.mapObj,iw:t,icon:{path:"M-0.5-41C-7.9-41-14-34.9-14-27.5c0,3,1.9,7.9,5.9,15c2.8,5,5.5,9.2,5.6,9.3l2,3l2-3c0.1-0.2,2.9-4.3,5.6-9.3c3.9-7.1,5.9-12,5.9-15C13-34.9,7-41-0.5-41z M-0.5-20.6c-3.9,0-7-3.1-7-7s3.1-7,7-7s7,3.1,7,7S3.4-20.6-0.5-20.6z",fillColor:this.mapEle.dataset.color,fillOpacity:1,strokeWeight:0}});i.addListener("click",this.openMarker.bind(this,i)),this.clustererObj.addMarker(i),this.spiderfyObj.addMarker(i),this.spiderfyObj.addListener("click",function(e){this.openMarker(e)}.bind(this)),this.markers.push(i),this.propMarkers[e.AltID]=i},openMarker:function(e){this.openMarkers.map(function(e){e.iw.close()}),this.mapObj.setZoom(15);var t=new google.maps.LatLng({lat:e.getPosition().lat()+.004623495678337974,lng:e.getPosition().lng()});this.mapObj.panTo(t),_.delay(function(){e.iw.open(this.mapObj,e)}.bind(this),150),this.openMarkers.push(e)},addMapProps:function(e){var t=app.bapi.render("tmpl-propertysearch-mapview",{result:e,textdata:BAPI.textdata});this.mapPropContainer.innerHTML=t;var i=this.mapPropContainer.querySelectorAll("[data-altid]");_(i).forEach(function(e){var t=e.querySelector(".viewInMap"),i=e.dataset.altid;t.addEventListener("click",function(){var e=this.propMarkers[i];this.openMarker(e)}.bind(this))}.bind(this))},mapResetEvents:function(){var e=document.querySelectorAll(".resetMap");_.map(e,function(e){e.addEventListener("click",this.centerMap.bind(this))}.bind(this))},centerMap:function(){if(null==this.bounds){var e=new google.maps.LatLngBounds,t=this.markers;for(i in t){var r=t[i];e.extend(new google.maps.LatLng(r.position.lat(),r.position.lng()))}this.bounds=e,this.mapObj.fitBounds(this.bounds)}else this.mapObj.fitBounds(this.bounds)},mapBoundProps:function(){google.maps.event.addListener(this.mapObj,"dragstart",function(){this.mapPropContainer.classList.add("loading")}.bind(this)),google.maps.event.addListener(this.mapObj,"idle",function(){this.mapPropContainer.classList.remove("loading")}.bind(this)),google.maps.event.addListener(this.mapObj,"bounds_changed",_.debounce(function(){this.currentViewMarkers=[],this.markers.forEach(function(e){this.mapObj.getBounds().contains(e.getPosition())&&this.currentViewMarkers.push(e)}.bind(this));var e=[];this.currentViewMarkers.forEach(function(t){e.push(t.prop)}),this.addMapProps(e),$(".ppty-count-current").text(e.length)}.bind(this),250))},doMapView:function(){return document.querySelector(".listView").classList.add("hidden"),document.querySelector(".mapView").classList.remove("hidden"),this.mapInitted?void this.centerMap():void this.getProperties(function(e,t){0==this.markers.length&&(this.initMap(e.Latitude,e.Longitude),this.initClusterer(),this.initSpiderfy(),this.mapBoundProps()),this.addMarker(e),this.markers.length==this.totalProps&&(this.centerMap(),this.mapInitted=!0,_.map(document.querySelectorAll(".viewToggle button"),function(e){e.removeAttribute("disabled")}))},function(){this.addMapProps(this.properties)})},doListView:function(){document.querySelector(".mapView").classList.add("hidden"),document.querySelector(".listView").classList.remove("hidden"),this.listInitted||(this.getProperties(function(e,t){e.Summary=e.Summary.length<=200?e.Summary:e.Summary.replace(/(<([^>]+)>)/gi,"").substr(0,200)+'... <a href="'+e.ContextData.SEO.DetailURL+'">['+BAPI.textdata.more+"]</a>";var i=app.bapi.render("tmpl-propertysearch-listview",{result:[e],textdata:BAPI.textdata});this.listPropContainer.innerHTML+=i,this.properties.length==this.totalProps&&_.map(document.querySelectorAll(".viewToggle button"),function(e){e.removeAttribute("disabled")})},function(){var e=app.bapi.render("tmpl-propertysearch-listview",{result:[],textdata:BAPI.textdata});this.listPropContainer.innerHTML+=e}),this.listInitted=!0)},viewToggle:function(){document.querySelector(".viewToggle .v-map").addEventListener("click",this.doMapView.bind(this)),document.querySelector(".viewToggle .v-list").addEventListener("click",this.doListView.bind(this))}},app.bapiModules.templates.stackAreasDefaultTemplate={init:function(){if(this.cond()){new Swiper(".hero .swiper-container",{direction:"horizontal",loop:!0,autoplay:3e3,speed:1e3,effect:"fade",pagination:".swiper-pagination",nextButton:".swiper-button-next",prevButton:".swiper-button-prev",scrollbar:".swiper-scrollbar"});$(".tab-selector a").on("click",function(e){$(".tab-selector a").removeClass("primary-fill-color"),$(this).addClass("primary-fill-color"),$(".tabs-contents li").removeClass("active"),$($(this).attr("data-target")).addClass("active"),setCookie("active-tab",$(this).attr("data-target"),9999)}),$(".activate-tab").on("click",function(e){setCookie("active-tab",$(this).attr("data-target"),9999)});var e=getCookie("subarea"),t=getCookie("active-tab");1==e?$('[data-target=".property-list"]').click():$('[data-target="'+t+'"]').click()}},cond:function(){return app.exists(".stacks-default-template")}},app.bapiModules.widgets.buckets={selector:".kd-buckets",init:function(){$(this.selector).each(function(e,t){app.bapi.recursiveGet("searches",function(e){var i=Object.assign(e,{"class":t.dataset["class"]});t.innerHTML=app.bapi.render("tmpl-searches-quickview",i)})})},cond:function(){return app.exists(this.selector)}},app.modules.widgets.featured={selector:".kd-featured",sliderSelector:".swiper-container",observedSelector:".swiper-wrapper",init:function(){var e=document.querySelectorAll(this.selector);$.each(e,function(e,t){var i=t.querySelector(this.observedSelector);if(i.children.length>0)this.initSlider(e,t);else{var r=new MutationObserver(function(i){this.initSlider(e,t),r.disconnect()}.bind(this));r.observe(i,{childList:!0})}}.bind(this))},cond:function(){return app.exists(this.selector)},getSliderConfig:function(e){return{autoplay:!1,loop:!0,paginationClickable:!0,pagination:e.querySelector(".swiper-pagination"),nextButton:e.querySelector(".next"),prevButton:e.querySelector(".prev"),bulletActiveClass:"secondary-fill-color",simulateTouch:!1}},initSlider:function(e,t){var i=t.querySelector(this.sliderSelector);app.initSwiper(i,this.getSliderConfig(t))}},app.modules.widgets.hero={selector:".kd-hero",sliderSelector:".swiper-container",init:function(){var e=document.querySelectorAll(this.selector);$.each(e,this.initSlider.bind(this))},cond:function(){return app.exists(this.selector)},getSliderConfig:function(e){var t=e.querySelector(this.sliderSelector).dataset,i={autoplay:t.speed||!1,loop:"on"==t.loop,nextButton:e.querySelector(".next"),prevButton:e.querySelector(".prev"),effect:t.effect||"slide",speed:500,freeMode:"on"==t.freemode,direction:t.direction||"horizontal",pagination:"on"==t.pagination&&e.querySelector(".swiper-pagination"),paginationClickable:!0,bulletActiveClass:"active",centeredSlides:"on"==t.centered_slides,slidesPerView:t.slides_per_view||1};return i},initSlider:function(e,t){var i=this.getSliderConfig(t);app.initSwiper(t.querySelector(this.sliderSelector),i)}},app.modules.widgets.items={selector:".kd-items",init:function(){this.toggleEvents(),this.initSliders()},toggleEvents:function(){var e=document.querySelectorAll(".item-block .open-close");$.each(e,function(e,t){t.addEventListener("click",function(e){this.parentElement.classList.toggle("active")})})},initSliders:function(){for(var e=document.querySelectorAll(this.selector+" .swiper-container"),t=0;t<e.length;t++){var i=e[t];new Swiper(i,{spaceBetween:15,nextButton:".next-slide",prevButton:".prev-slide",slidesPerView:i.dataset.columns||5,loop:!0,loopAdditionalSlides:5,breakpoints:{992:{slidesPerView:3},780:{centeredSlides:!0,slidesPerView:2},480:{centeredSlides:!0,slidesPerView:1}}})}},cond:function(){return app.exists(".kd-items")}},app.modules.widgets.map={selector:".kd-map .map-canvas",init:function(){geocoder=new google.maps.Geocoder,$(this.selector).each(function(e,t){geocoder&&geocoder.geocode({address:t.dataset.location},function(e,i){var r=e[0].geometry.location,n=new google.maps.Map(t,{center:r,zoom:1*t.dataset.zoom||10});new google.maps.Marker({map:n,position:r})})})},cond:function(){return app.exists(this.selector)}},app.modules.widgets.menu={selector:".kd-menu",init:function(){for(var e=document.querySelectorAll(this.selector),t=0;t<e.length;t++)this.bindEvents(e.item(t))},cond:function(){return app.exists(this.selector)},bindEvents:function(e){var t=e.querySelector(".toggle");t.addEventListener("click",this.toggleMenu.bind(e))},toggleMenu:function(){this.classList.toggle("active")}},app.bapiModules.widgets.search={selector:".kd-search",init:function(){$(this.selector).each(function(e,t){t.querySelector(".search-button-block .more").addEventListener("click",function(e){t.classList.toggle("open"),this.classList.toggle("active")})})},cond:function(){return app.exists(this.selector)}},app.bapiModules.widgets.selective_search={selector:".kd-selective-search-box",init:function(){$(".kd-selective-search-box .toggle-filter").on("click",function(e){e.preventDefault(),$(this).toggleClass("active");var t=$($(this).attr("data-types")),i=$(this).parent().parent().find(".toggle-filter"),r=$(this).prev();r.prop("checked",!r.prop("checked"));var n=[];$.each(i,function(e,t){$(this).hasClass("active")&&n.push($(this).attr("data-toggle"))}),t.get(0).value=n.join(",")}),$(".filter-by").on("click",function(e){e.preventDefault(),$(this).toggleClass("active"),$(this).parent().on("click",function(e){e.stopPropagation()}),$(this).parent().next().toggleClass("active")}),$(".clearsearch").on("click",function(e){e.preventDefault(),$(".kd-selective-search-box .toggle-filter").removeClass("active");var t=$($(this).attr("data-types")),i=$(this).parent().parent().find(".ptype input");i.prop("checked",!1),t.get(0).value=""}),$(window).on("click",function(e){$(".currently-filtering").removeClass("active"),$(".filter-by").removeClass("active")}),$(".currently-filtering").on("click",function(e){e.stopPropagation()})},cond:function(){return app.exists(this.selector)}},app.bapiModules.widgets.specials={selector:".kd-specials",init:function(){$(this.selector).each(function(e,t){app.bapiRender("specials","tmpl-specials-quickview",function(e){t.innerHTML=e},{"class":t.dataset["class"]})})},cond:function(){return app.exists(this.selector)}},app.modules.widgets.team={mobileBreak:991,selector:".kd-team",init:function(){for(var e=document.querySelectorAll(this.selector+".swiper-container"),t=0;t<e.length;t++){var i=e[t];new Swiper(i,{nextButton:".next-slide",prevButton:".prev-slide",slidesPerView:i.dataset.columns||5,loop:!0,loopAdditionalSlides:5,simulateTouch:!1,breakpoints:{992:{slidesPerView:3},780:{centeredSlides:!0,slidesPerView:2},480:{centeredSlides:!0,slidesPerView:1}},onInit:function(){i.classList.remove("faded-out")}})}},cond:function(){return app.exists(".kd-team")}};